<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Minimal D3 Example</title>
<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
 
<style>
.bar {
  fill: steelblue;
}
 
.bar:hover {
  fill: orange;
}
.chart:text {
  fill: white;
  font: 10px Helvetica;
  text-anchor: end;
}
</style>
</head>
<body>

<svg id="chart"></svg>
</body>

<script>
//var data = [4, 5, 10, 16, 23, 35];

var colors = ["b33040", "#d25c4d", "#f2b447", "#d9d574", "b33040", "steelblue"];
var width = 500;
var barHeight = 20;

var x = d3.scale.linear()
  .domain([0, 100])
  .range([0, width]);

var chart = d3.select('#chart')
  .attr('width', width)
  .attr('height', barHeight * 4);//data.length);
  
function drawChart(row_num, g1,intersection,g2){


var data = [g1,intersection,g2];
var trans = [0,x(data[0]),x(data[0]+data[1])];

//var chart = d3.select('#chart')
//  .attr('width', width)
//  .attr('height', barHeight * data.length);
//var trans = [0,56,900,1000,1000,1000]
//var trans = [x(0), 20, x(9), x(19), x(19 + 16), x(19 + 16 + 23) ]
//var trans = [0, 20, 0,0,0,0 ]
//alert(x(4))
z = chart.append('svg');
alert(z);
//d3.select(a).append("svg")
//var bar = d3.select(a).selectAll('g')

var bar = z.selectAll('g')
  .data(data)
  .enter()
  .append('g')
  .attr('transform', function(d, i) {
    return 'translate(' + (trans[i]) + ','+  row_num * barHeight +')';
  })
  .on("mouseover", function() {
    //tooltip.select("text").text("hi");
    
})
  .on("mouseout", function() {
			//tooltip.style("display", "none");
// tooltip.attr("transform", "translate(" + -100 + "," + -100 + ")");
  })
  
  .on("mousemove", function(d, i) {
//      tooltip.style("display", null);
  var xPosition = (d3.mouse(this)[0] + trans[i] - 5);

    var yPosition = d3.mouse(this)[1] - 10;
 //   tooltip.attr("transform", "translate(" + xPosition + "," + yPosition + ")");
  });

bar.append('rect')
  .attr('width', x)
  .attr('height', barHeight - 1)
  .style("fill", function(d, i) {
    return colors[i];
  });

bar.append('text')
  .attr('x', function(d) {
    return x(d) - 3;
  })
  .attr('y', barHeight / 2)
  .attr('dy', '.35em')
  .text(function(d) {
    return d;
  });
  //chart.append(bar);
}
drawChart(2,5,15,50);
drawChart(1,5,25,50);
var tooltip = chart.append("g")
  .attr("class", "tooltip")
  .style("display", "none");

tooltip.append("rect")
  .attr("width", 30)
  .attr("height", 20)
  .attr("fill", "white")
  .style("opacity", 1);

tooltip.append("text")
  .attr("x", 15)
  .attr("dy", "1.2em")
  .style("text-anchor", "middle")
  .attr("font-size", "12px")
  .attr("font-weight", "bold");
</script>
</html>
