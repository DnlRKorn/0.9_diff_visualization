<!DOCTYPE html>
<html lang="en">
<head>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">

<meta charset="utf-8">
<title>Minimal D3 Example</title>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js" charset="utf-8"></script>
<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js" charset="utf-8"></script>
<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>

<style>
#chart rect {
  fill: steelblue;
}

#chart text {
  fill: white;
  font: 10px Helvetica;
  text-anchor: end;
}

#exTab1 .tab-content {
  color: white;
  background-color: #428bca;
  padding: 5px 15px;
}

#exTab2 h3 {
  color: white;
  background-color: #428bca;
  padding: 5px 15px;
}

/* remove border radius for the tab */

#exTab1 .nav-pills>li>a {
  border-radius: 0;
}

/* change border radius for the tab , apply corners on top*/

#exTab3 .nav-pills>li>a {
  border-radius: 4px 4px 0 0;
}

#exTab3 .tab-content {
  color: white;
  background-color: #428bca;
  padding: 5px 15px;
}

</style>
</head>
<body>
  <div class="container">
    <h1>Bootstrap tab panel example (using nav-pills) </h1>
  </div>
  <div id="exTab1" class="container">
    <ul class="nav nav-pills">
      <li class="active">
        <a class="xyz" id="xyz" href="#1a" data-toggle="tab">Overview</a>
      </li>
      <li><a class="hello" href="#2a" data-toggle="tab">Hello </a>
      </li>
      <li><a href="#3a" data-toggle="tab">Applying clearfix</a>
      </li>
      <li><a href="#4a" data-toggle="tab">Background color</a>
      </li>
    </ul>

    <div class="tab-content clearfix">
      <div class="tab-pane active" id="1a">
        <h3>Content's background color is the same for the tab</h3>
      </div>
      <div class="tab-pane" id="2a">

        <h3> <svg id="chart"></svg> </h3>
      </div>
      <div class="tab-pane" id="3a">
        <h3>We applied clearfix to the tab-content to rid of the gap between the tab and the content</h3>
      </div>
      <div class="tab-pane" id="4a">
        <h3>We use css to change the background color of the content to be equal to the tab</h3>
      </div>
    </div>
  </div>



  <svg id="chart"></svg>
</body>

<script>
//var data = [4, 5, 10, 16, 23, 35];

var colors = ["b33040", "#d25c4d", "#f2b447", "#d9d574", "b33040", "steelblue"];
var width = 500;
var barHeight = 20;

var x = d3.scale.linear()
  .domain([0, 100])
  .range([0, width]);

var chart = d3.select('#chart')
  .attr('width', width)
  .attr('height', barHeight * 4);//data.length);
  
function drawChart(row_num, g1,intersection,g2){


var data = [g1,intersection,g2];
var trans = [0,x(data[0]),x(data[0]+data[1])];

//var chart = d3.select('#chart')
//  .attr('width', width)
//  .attr('height', barHeight * data.length);
//var trans = [0,56,900,1000,1000,1000]
//var trans = [x(0), 20, x(9), x(19), x(19 + 16), x(19 + 16 + 23) ]
//var trans = [0, 20, 0,0,0,0 ]
//alert(x(4))
z = chart.append('svg');

//d3.select(a).append("svg")
//var bar = d3.select(a).selectAll('g')

var bar = z.selectAll('g')
  .data(data)
  .enter()
  .append('g')
  .attr('transform', function(d, i) {
    return 'translate(' + (trans[i]) + ','+  row_num * barHeight +')';
  })
  .on("mouseover", function() {
    //tooltip.select("text").text("hi");
    
})
  .on("mouseout", function() {
			//tooltip.style("display", "none");
// tooltip.attr("transform", "translate(" + -100 + "," + -100 + ")");
  })
  
  .on("mousemove", function(d, i) {
//      tooltip.style("display", null);
  var xPosition = (d3.mouse(this)[0] + trans[i] - 5);

    var yPosition = d3.mouse(this)[1] - 10;
 //   tooltip.attr("transform", "translate(" + xPosition + "," + yPosition + ")");
  });

bar.append('rect')
  .attr('width', x)
  .attr('height', barHeight - 1)
  .style("fill", function(d, i) {
    return colors[i];
  });

bar.append('text')
  .attr('x', function(d) {
    return x(d) - 3;
  })
  .attr('y', barHeight / 2)
  .attr('dy', '.35em')
  .text(function(d) {
    return d;
  });
  //chart.append(bar);
}
drawChart(2,5,15,50);
drawChart(1,5,25,50);
var tooltip = chart.append("g")
  .attr("class", "tooltip")
  .style("display", "none");

tooltip.append("rect")
  .attr("width", 30)
  .attr("height", 20)
  .attr("fill", "white")
  .style("opacity", 1);

tooltip.append("text")
  .attr("x", 15)
  .attr("dy", "1.2em")
  .style("text-anchor", "middle")
  .attr("font-size", "12px")
  .attr("font-weight", "bold");
</script>
</html>
